# redis-

레디스 캐쉬를 통한 서버 다중화

목표 : 채팅 서버와 기존 서버의 분리

문제 : 서버를 추가할 경우 기존 db에 있는 데이터가 새로운 서버 db에 있지 않아서 애러가 발생한다.
해결방안 : 
1. 기존의 데이터를 똑같이 새로운 서버에 백업한다
2. redis 캐쉬를 통해서 채팅에 필요한 정보만 가져온다

방안 선택 : 
1의 경우 채팅 서버에 불필요한 데이터를 계속 저장해야 하고 새로운 데이터가 생성시 똑같이 저장 되도록 해야함. 
2의 경우 레디스를 새로 설치해야 하며, 정보를 레디스 안에 넣어 줘야함.

최종 :
2를 결정 

@Cacheable을 통해 반환되는 값을 redis에 저장하도록 할 에정 이때 key 값과 chachename을 정해줘야하며, 맴버 조회도 캐쉬에서 읽도록 설정해 줘야한다.
채팅방 생성시 memberId 뿐만 아니라 item의 id값도 필요하기 때문에 item에 관한 정보도 redis 캐쉬에 저장 되도록 설계해야함.
*기존의 데이터를 레디스 안에 저장하는 방법이 아니라. 호출시 잠시 데이터를 캐쉬에 안에 저장 했다가 자동으로 삭제 되도록 함.


헥타곤 아키택처, 서버리스
